<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <title>Auction WebSocket Test</title>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>-->
<!--</head>-->
<!--<body>-->
<!--<h2>Auction Bidding Test</h2>-->

<!--<label>Auction ID: <input type="number" id="auctionId" value="1" /></label><br>-->
<!--<label>Bid Amount: <input type="number" id="amount" value="300" /></label><br>-->
<!--<label>JWT Token: <input type="text" id="token" style="width: 400px;" /></label><br>-->
<!--<button onclick="connect()">Connect</button>-->
<!--<button onclick="sendBid()">Send Bid</button>-->

<!--<h3>Logs:</h3>-->
<!--<pre id="log"></pre>-->

<!--<script>-->
<!--    let stompClient = null;-->

<!--    function log(message) {-->
<!--        document.getElementById('log').innerText += message + "\n";-->
<!--    }-->

<!--    function connect() {-->
<!--        const socket = new SockJS("http://localhost:9994/ws");-->
<!--        stompClient = Stomp.over(socket);-->

<!--        const token = document.getElementById("token").value;-->

<!--        stompClient.connect(-->
<!--            { Authorization: "Bearer " + token },-->
<!--            frame => {-->
<!--                log("Connected: " + frame);-->

<!--                const auctionId = document.getElementById("auctionId").value;-->

<!--                stompClient.subscribe("/topic/bid/" + auctionId, message => {-->
<!--                    log("Broadcast: " + message.body);-->
<!--                });-->

<!--                stompClient.subscribe("/user/queue/outbid", message => {-->
<!--                    log("Outbid Alert: " + message.body);-->
<!--                });-->
<!--            },-->
<!--            error => {-->
<!--                log("Connection failed: " + error);-->
<!--            }-->
<!--        );-->
<!--    }-->

<!--    function sendBid() {-->
<!--        const auctionId = document.getElementById("auctionId").value;-->
<!--        const amount = parseFloat(document.getElementById("amount").value);-->

<!--        stompClient.send("/app/bid.send." + auctionId, {}, JSON.stringify({ amount }));-->
<!--        log("Bid sent: " + amount);-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
